<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>B.C. Climate Change Informed Tree Species Selection • ccissdev</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="B.C. Climate Change Informed Tree Species Selection">
<meta property="og:description" content="What the package does (one paragraph).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ccissdev</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0.9990</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="cciss_shinyapp">CCISS_ShinyApp<a class="anchor" aria-label="anchor" href="#cciss_shinyapp"></a>
</h1></div>
<p>CCISS RMD knitr report graphics and Shiny App This repository is a fork of a development CCISS R script for devexchange code-with-us development. There are two development tasks. 1. Add in several graphical summaries for an existing CCISS RMD for a formatted knitr report of the RMD. The graphical formats parallel existing web reporting 2. Build a shiny app version of the CCISS rmd. A scaleable BEC map interface for retrieving lat/long for submission to the CCISS script. Graphical output of BGC futures, tree species feasibility ratings by timeperiod, and display of existing stocking standard recommendations</p>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"bcgov/CCISS_ShinyApp"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="run-locally">Run locally<a class="anchor" aria-label="anchor" href="#run-locally"></a>
</h3>
<ul>
<li>Run <code>remotes::install_github("bcgov/CCISS_ShinyApp")</code>
</li>
<li>Clone repository</li>
<li>Setup environment variables</li>
<li>Open project</li>
<li>Run <code>shiny::runApp("./app")</code>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="deploy-to-shinyappsio">Deploy to shinyapps.io<a class="anchor" aria-label="anchor" href="#deploy-to-shinyappsio"></a>
</h3>
<ul>
<li>Run <code>remotes::install_github("bcgov/CCISS_ShinyApp")</code>
</li>
<li>Clone repository</li>
<li>Create an <code>.Renviron</code> file in <code>./app</code> and provide necessary values</li>
<li>Open <code>./app/index.Rmd</code>
</li>
<li>
<a href="https://shiny.rstudio.com/articles/shinyapps.html" class="external-link">Deploy to Shinyapps.io</a> using RStudio publish button</li>
<li>Select <code>.Renviron</code>, <code>index.Rmd</code>, <code>www</code>, <code>server</code> only</li>
</ul>
<p><img src="data-raw/screenshots/rstudioreference.png"></p>
</div>
<div class="section level3">
<h3 id="renviron">.Renviron<a class="anchor" aria-label="anchor" href="#renviron"></a>
</h3>
<p>The app requires the following environment variables.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="va">BCGOV_USR=</span>{<span class="ex">postgres</span> user}</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="va">BCGOV_PWD=</span>{<span class="ex">postgres</span> password}</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="va">BCGOV_DB=</span>{<span class="ex">postgres</span> database}</span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="va">BCGOV_HOST=</span>{<span class="ex">postgres</span> host}</span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="va">BCGOV_TILESERVER=</span>{<span class="ex">tileserver</span> gl x, y, z url template}</span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="va">BCGOV_TILELAYER=</span>{<span class="ex">tileserver</span> layer}</span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="va">BCGOV_MAPBOX_TOKEN=</span>{<span class="ex">mapbox</span> api key}</span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="va">BCGOV_MAPBOX_LABELS_STYLE=</span>{<span class="ex">mapbox</span> labels style ref user/styleref}</span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="va">BCGOV_MAPBOX_HILLSHADE_STYLE=</span>{<span class="ex">mapbox</span> hillshade style ref user/styleref}</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="repository-structure">Repository structure<a class="anchor" aria-label="anchor" href="#repository-structure"></a>
</h2>
<div class="section level4">
<h4 id="r-packages-folders">R packages folders<a class="anchor" aria-label="anchor" href="#r-packages-folders"></a>
</h4>
<div class="section level5">
<h5 id="app">app<a class="anchor" aria-label="anchor" href="#app"></a>
</h5>
<p>CCISS Shiny app</p>
</div>
<div class="section level5">
<h5 id="data">data<a class="anchor" aria-label="anchor" href="#data"></a>
</h5>
<p>Standard R package folder for the <a href="https://cran.r-project.org/doc/manuals/R-exts.html#Data-in-packages" class="external-link">Data in packages</a>. Data is generated from <code>create_package_data</code> script in <code>data-raw/scripts</code>. The script is run manually to update data as needed. When a package includes data, they are available like other objects after you load the library.</p>
</div>
<div class="section level5">
<h5 id="data-raw">data-raw<a class="anchor" aria-label="anchor" href="#data-raw"></a>
</h5>
<p><a href="https://r-pkgs.org/data.html?q=data-raw#data-sysdata" class="external-link">Commonly used</a> to store scripts to create package assets. This can include model training, package data creation or, like this package, tiles creation. Usually code in this folder is ran manually and is not part of the package but kept with the package repository.</p>
</div>
<div class="section level5">
<h5 id="inst">inst<a class="anchor" aria-label="anchor" href="#inst"></a>
</h5>
<p>Standard R package folder. The contents of the <code>inst</code> subdirectory will be copied recursively to the installation directory. This is described in <a href="https://cran.r-project.org/doc/manuals/R-exts.html#Data-in-packages" class="external-link">Data in packages</a></p>
</div>
<div class="section level5">
<h5 id="man">man<a class="anchor" aria-label="anchor" href="#man"></a>
</h5>
<p>Standard R package folder for documentation. Where <code>roxygen2</code> saves generated documentation. This package use <a href="https://roxygen2.r-lib.org/" class="external-link"><code>roxygen2</code></a> to make documenting functions and objects easier.</p>
</div>
<div class="section level5">
<h5 id="r">R<a class="anchor" aria-label="anchor" href="#r"></a>
</h5>
<p>Also standard, this package R functions, methods and objects are there. The code there will be included with the package when it is built.</p>
</div>
<div class="section level5">
<h5 id="src">src<a class="anchor" aria-label="anchor" href="#src"></a>
</h5>
<p><a href="https://cran.r-project.org/doc/manuals/R-exts.html#Non_002dR-scripts-in-packages" class="external-link">Also standard</a>. Code which needs to be compiled.</p>
</div>
</div>
<div class="section level4">
<h4 id="building-packages">Building packages<a class="anchor" aria-label="anchor" href="#building-packages"></a>
</h4>
<p>R is a great community. There is a lot of great resources on how to build packages. I highly recommend <a href="https://r-pkgs.org/" class="external-link">R packages by Hadley Wickham and Jenny Bryan</a>.</p>
</div>
<div class="section level4">
<h4 id="special">Special<a class="anchor" aria-label="anchor" href="#special"></a>
</h4>
<div class="section level5">
<h5 id="gitignore">.gitignore<a class="anchor" aria-label="anchor" href="#gitignore"></a>
</h5>
<p>Tells git which files to ignore. See <a href="https://git-scm.com/docs/gitignore" class="external-link">git documentation</a>.</p>
</div>
<div class="section level5">
<h5 id="rbuildignore">.Rbuildignore<a class="anchor" aria-label="anchor" href="#rbuildignore"></a>
</h5>
<p>Tells R which files to ignore when it builds the package. See <a href="https://cran.r-project.org/doc/manuals/R-exts.html#index-_002eRbuildignore-file" class="external-link">Writing R extension</a>.</p>
</div>
<div class="section level5">
<h5 id="github">.github<a class="anchor" aria-label="anchor" href="#github"></a>
</h5>
<p>Github actions workflows. - Package checks (R-CMD-check) - Online documentation (pkgdown), - Tests coverages report (test-coverage) - Style code / run roxygen2 (pr-commands) You can read more about actions from <a href="https://github.com/r-lib/actions" class="external-link">r-lib/actions</a></p>
<p>Workflows are setup or updated with the following instruction.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/tidyverse.html" class="external-link">use_tidy_github_actions</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Custom modifications made.<br>
- Reduce the number of target for R CMD check.</p>
<p>To disable a workflow, go the github actions tab, select a workflow, click on the … dots on the right and select disable workflow.</p>
<hr>
<p>Copyright 2021 Province of British Columbia</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0" class="external-link uri">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>Apache License (== 2)</small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ccissdev</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Will MacKenzie <br><small class="roles"> Maintainer, author </small>  </li>
<li>Kiri Daust <br><small class="roles"> Author </small>  </li>
<li> Province of British Columbia <br><small class="roles"> Copyright holder, funder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Will MacKenzie, Kiri Daust, Province of British Columbia.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
